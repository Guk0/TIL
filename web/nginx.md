# nginx
- Nginx는 웹 서버이다. 클라이언트로부터 요청을 받았을 때 요청에 맞는 정적 파일을 응답해주는 HTTP Web Server로 활용되기도 하고, Reverse Proxy Server로 활용하여 어플리케이션 서버의 부하를 줄일 수 있는 로드 밸런서로 활용되기도 한다.

<br>

### 포워드 프록시란?
  - 프록시 서버는 클라이언트가 프록시 서버를 통해 다른 네트워크 서비스에 간접적으로 접속할 수 있게 해주는 시스템
  - 주로 요청된 내용들을 캐시하며, 기업들이 내부망 구성을 위해 사용하기도 하고 방화벽의 역활을 하기도 합니다.

<br>

### 리버스 프록시란?
  - 리버스 프록시는 애플리케이션 서버의 앞에 위치하여 클라이언트가 서버를 요청할 때 리버스 프록시를 호출하고, 리버스 프록시가 서버로부터 응답을 전달받아 다시 클라이언트에게 전송하는 역할을 한다.
  - 이 경우, 클라이언트는 애플리케이션 서버를 직접 호출하는 것이 아니라 프록시 서버를 통해 호출하기 때문에 리버스 프록시는 애플리케이션 서버를 감추는 역할을 하게 된다.
  - **로드밸런싱** : 리버스 프록시 뒤에 여러 개의 WAS를 둠으로써, 사용자 요청을 분산할 수 있다. End-point 마다 호출 서버를 설정할 수 있어 역할에 따라 서버의 트래픽을 분산할 수도 있다.
  - **보안** : 보안 상의 이유로 서버에 직접 접근하는 것을 막기 위해 DMZ같은 네트워크에 리버스 프록시를 구성하여 접근하도록 한다.


## vs apache
### Apache
- 쓰레드 / 프로세스 기반 구조로 **요청 하나당 쓰레드 하나가 처리하는 구조**
  - 요청이 많을 경우 Process를 생성하여 처리
  - 사용자가 많으면 스레드 생성, 메모리 및 CPU 낭비가 심하다.
- 복잡한 작업이나 높은 성능이 필요할 때 사용한다.

### Nginx
- 비동기 Event-Driven 기반 구조
  - **한 개 또는 고정된 프로세스만 생성**하고, 여러 개의 Connection을 모두 Event-Handler를 통해 비동기 방식으로 처리
  - 적은 양의 스레드만 사용되기 때문에 **Context Swiching** 비용이 적고, CPU 소모가 적다.
  - context switching : os 가 프로세스 혹은 스레드 간 작업을 전환할때 발생하는 비용
- 다수의 연결을 효과적으로 처리가 가능
- 대부분의 코어 모듈이 Apache보다 적은 리소스로 더 빠르게 동작이 가능
- 더 작은 쓰레드로 클라이언트의 요청들을 처리할 수 있다.


[참고](https://velog.io/@deannn/Apache%EC%99%80-NginX-%EB%B9%84%EA%B5%90-%EC%B0%A8%EC%9D%B4%EC%A0%90)  
[참고](https://velog.io/@meong9090/networknginx%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90)